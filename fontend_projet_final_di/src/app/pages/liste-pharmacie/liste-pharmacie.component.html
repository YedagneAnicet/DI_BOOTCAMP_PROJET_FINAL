<app-header></app-header> <br /><br /><br /><br /><br /><br />
<div class="container">
  <header
    class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom"
  >
    <a
      href="/"
      class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none"
    >
      <span class="fs-4">Liste des pharmacies de garde</span>
    </a>

    <ul class="nav nav-pills">
      <form [formGroup]="FormRecherche" (ngSubmit)="onSubmit()">
        <div class="input-group">
          <select
            formControlName="commune"
            class="form-select"
            id="country"
            required
          ><option value="" selected disabled>commune</option>
            <ng-container *ngFor="let commune of listeCommune">
              <option [value]="commune.ville_pharmacie">
                {{ commune.ville_pharmacie }}
              </option>
            </ng-container>
          </select>
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" type="submit">
              <i class="las la-search"></i>
            </button>
          </div>
        </div>
      </form>
    </ul>
  </header>
  <table class="table table-striped table-hover mt-2">
    <thead class="table-light text-center">
      <tr>
        <th scope="col">NÂ°</th>
        <th scope="col">Nom</th>
        <th scope="col">Contact</th>
        <th scope="col">Localisation</th>
        <th scope="col">Commune</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">

      <ng-container *ngIf="allgarde">
        <tr *ngFor="let pharmacie of ListePharmacieGarde; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ pharmacie.nom_pharmacie }}</td>
          <td>{{ pharmacie.telephone_pharmacie }}</td>
          <td>{{ pharmacie.adresse_pharmacie }}</td>
          <td>{{ pharmacie.ville_pharmacie }}</td>
        </tr>
      </ng-container>


      <ng-container *ngIf="!allgarde">
        <tr *ngFor="let pharmacie of ListePharmacieCommune; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ pharmacie.nom_pharmacie }}</td>
          <td>{{ pharmacie.telephone_pharmacie }}</td>
          <td>{{ pharmacie.adresse_pharmacie }}</td>
          <td>{{ pharmacie.ville_pharmacie }}</td>
          <td><app-map [location]="pharmacie.adresse_pharmacie"></app-map>
          </td>
        </tr>
      </ng-container>

    </tbody>
  </table>
</div>

